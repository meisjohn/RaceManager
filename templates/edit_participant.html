{% extends "base.html" %}
{% block content %}
    <section class="section">
        <div class="container">
            <h1 class="title">Edit Participant</h1>

            {% if archived: %}
                {% set disabled='disabled' %}
            {% else %}
                {% set disabled='' %}
            {% endif %}

            <form method="POST">
                <div class="field">
                    <label class="label">First Name</label>
                    <div class="control">
                        <input class="input" type="text" name="first_name" value="{{ participant.first_name }}" {{disabled}}>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Last Name</label>
                    <div class="control">
                        <input class="input" type="text" name="last_name" value="{{ participant.last_name }}" {{disabled}}>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Patrol</label>
                    <div class="control">
                        <input class="input is-static" type="text" value="{{ patrol_names.get(participant.patrol) }}" readonly>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Car Number</label>
                    <div class="control">
                        <input class="input is-static" type="text" value="{{ participant.car_number }}" readonly>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Car Name</label>
                    <div class="control">
                        <input class="input" type="text" name="car_name" value="{{ participant.car_name }}" required {{disabled}}>
                    </div>
                </div>

                <div class="field">
                    <label class="label">Car Weight (oz)</label>
                    <div class="control">
                        <input class="input" type="number" step="0.01" name="car_weight_oz" value="{{ participant.car_weight_oz }}" autofocus required {{disabled}}>
                    </div>
                </div>

                <div class="field">
                    <div class="control">
                        <input class="button is-primary" type="submit" value="Update" {{disabled}}>
                    </div>
                </div>
            </form>

            <a href="{{ url_for('index') }}" class="button">Back to Participant List</a>
        </div>
    </section>
{% endblock %}